package h2d;

class Bitmap extends Drawable {

	public var tile : Tile;
	
	/** 
	 * Passing in a similar shader ( same constants will vastly improve performances
	 */
	public function new( ?tile, ?parent, ?sh) {
		super(parent,sh);
		this.tile = tile;
	}

	override function getBoundsRec( relativeTo, out ) {
		super.getBoundsRec(relativeTo, out);
		if( tile != null ) addBounds(relativeTo, out, tile.dx, tile.dy, tile.width, tile.height);
	}

	override function draw( ctx : RenderContext ) {
		drawTile(ctx.engine,tile);
	}

	public static function create( bmp : hxd.BitmapData, ?allocPos : h3d.impl.AllocPos ) {
		return new Bitmap(Tile.fromBitmap(bmp,allocPos));
	}

}